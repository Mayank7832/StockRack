{% extends 'portfolio/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'login.css' %}">
{% endblock %}

{% block content %}

<section>
    <div class="login-box">
        <form action="{% url 'login' %}" method="post">
            {% csrf_token %}
            <h2 style="color: white !important;">Login</h2>
            <div class="input-box">
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
                <input type="email" name="email" required autocomplete="off">
                <label>Email</label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                <input type="password" name="password" required autocomplete="off">
                <label>Password</label>
            </div>
            <div class="remember-forgot">
                <label><input type="checkbox"> Remember me</label>
                <a href="#">Forgot Password?</a>
            </div>
            <button type="submit">Login</button>
            <div class="register-link">
                <p>Don't have an account?
                    <a href="register.html">Register here</a>
                </p>
            </div>
        </form>
    </div>
</section>

{% if error %}
<script>
    setTimeout(() => {
        Swal.fire({
            icon: 'error',
            title: 'Login Failed',
            text: '{{ error }}',
            width: '350px',
            customClass: {
                popup: 'custom-swal-popup'
            }
        });
    }, 200);  // small delay to avoid rendering flicker
</script>
{% endif %}
{% endblock %}